"use strict";exports.id=2410,exports.ids=[2410],exports.modules={79764:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var i=r(53854);r(34218);var n=r(18066),a=r(90509),s=r(53778),o=r(98300),l=r(6715),d=r(20610),c=r(34324),p=r.n(c);u.propTypes={children:p().node.isRequired};let h=(0,d.ZP)(n.Z,{shouldForwardProp:e=>"open"!==e})(({theme:e,open:t})=>({boxShadow:"none",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)",background:(0,o.Fq)(e.palette.background.default,.72),borderBottom:"1px solid "+e.palette.divider,borderRadius:0,top:65,width:"calc(100% - 65px)",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),...t&&{marginLeft:240,width:"calc(100% - 240px)",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},[e.breakpoints.down("md")]:{width:"100%",left:0}}));function u({children:e}){let{openSidebar:t}=(0,l.v9)(e=>e.settings);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.Z,{sx:{flexGrow:1,width:1,mb:2,display:{sm:"block",xs:"none"}},children:[i.jsx(h,{open:t,sx:{zIndex:"997!important",pl:1.2},children:i.jsx(s.Z,{sx:{minHeight:48},children:e})}),i.jsx(a.Z,{sx:{height:48}})]}),i.jsx(a.Z,{sx:{display:{sm:"none",xs:"block"}},children:e})]})}},22843:(e,t,r)=>{r.r(t),r.d(t,{default:()=>S});var i=r(53854),n=r(34218),a=r(4206),s=r(20610),o=r(81891),l=r(43958),d=r(90509),c=r(21703),p=r(38770),h=r(18363),u=r(50477),x=r(91494),g=r(96204),m=r(19789),j=r(29847),v=r(97579),Z=r(51018),b=r(36391),y=r(83847),w=r(85256),f=r(29614),C=r(36375),q=r(34324),D=r.n(q);S.propTypes={categories:D().arrayOf(D().shape({_id:D().string.isRequired,name:D().string.isRequired})).isRequired,data:D().object,isLoading:D().bool,isInitialized:D().bool};let T=(0,s.ZP)(l.Z)(({theme:e})=>({...e.typography.subtitle2,color:e.palette.text.secondary,marginBottom:e.spacing(1),lineHeight:2.5})),F=["active","deactive"];function S({data:e,categories:t,isLoading:r,isInitialized:s=!1}){let l=(0,Z.useRouter)(),[q,D]=(0,n.useState)({loading:!1,name:"",search:"",open:!1}),{mutate:S,isLoading:k}=(0,a.useMutation)(e?"update":"new",e?C.updateSubCategory:C.addSubCategory,{...e&&{enabled:!!e},retry:!1,onSuccess:e=>{w.ZP.success(e.message),l.push("/dashboard/sub-categories")},onError:e=>{w.ZP.error(e.response.data.message)}}),{mutate:R}=(0,a.useMutation)(C.singleDeleteFile,{onError:e=>{w.ZP.error(e.response.data.message)}}),_=b.Ry().shape({name:b.Z_().required("Name is required"),cover:b.nK().required("Cover is required"),slug:b.Z_().required("Slug is required"),description:b.Z_().required("Description is required"),metaTitle:b.Z_().required("Meta title is required"),metaDescription:b.Z_().required("Meta description is required"),parentCategory:b.Z_().required("Category is required")}),P=(0,f.TA)({initialValues:{name:e?.name||"",metaTitle:e?.metaTitle||"",cover:e?.cover||null,description:e?.description||"",metaDescription:e?.metaDescription||"",file:e?.cover||"",slug:e?.slug||"",status:e?.status||F[0],parentCategory:e?.category||t&&t[0]?._id||""},enableReinitialize:!0,validationSchema:_,onSubmit:async t=>{let{...r}=t;try{S({...r,...e&&{currentSlug:e.slug}})}catch(e){console.error(e)}}}),{errors:z,values:I,touched:W,handleSubmit:M,setFieldValue:A,getFieldProps:L}=P,U=async e=>{D({...q,loading:2});let t=e[0];t&&Object.assign(t,{preview:URL.createObjectURL(t)}),A("file",t);let r=new FormData;r.append("file",t),r.append("upload_preset","fezrhfpj"),await y.Z.post("https://api.cloudinary.com/v1_1/docjvlprh/image/upload",r,{onUploadProgress:e=>{let{loaded:t,total:r}=e;D({...q,loading:Math.floor(100*t/r)})}}).then(({data:e})=>{A("cover",{_id:e.public_id,url:e.secure_url}),D({...q,loading:!1})}).then(()=>{I.cover&&R(I.cover._id),D({...q,loading:!1})})};return i.jsx(d.Z,{position:"relative",children:i.jsx(f.Hy,{value:P,children:i.jsx(f.l0,{noValidate:!0,autoComplete:"off",onSubmit:M,children:(0,i.jsxs)(c.ZP,{container:!0,spacing:2,children:[i.jsx(c.ZP,{item:!0,xs:12,md:8,children:i.jsx(p.Z,{sx:{p:3},children:(0,i.jsxs)(h.Z,{spacing:3,children:[(0,i.jsxs)("div",{children:[r?i.jsx(u.Z,{variant:"text",width:140}):(0,i.jsxs)(T,{component:"label",htmlFor:"category-name",children:[" ","Category Name"," "]}),r?i.jsx(u.Z,{variant:"rectangular",width:"100%",height:56}):i.jsx(x.Z,{id:"category-name",fullWidth:!0,...L("name"),onChange:e=>{let t=e.target.value,r=t.toLowerCase().replace(/[^a-zA-Z0-9\s]+/g,"").replace(/\s+/g,"-");P.setFieldValue("slug",r),P.handleChange(e)},error:!!(W.name&&z.name),helperText:W.name&&z.name})]}),(0,i.jsxs)("div",{children:[r?i.jsx(u.Z,{variant:"text",width:100}):i.jsx(T,{component:"label",htmlFor:"meta-title",children:"Meta Title"}),r?i.jsx(u.Z,{variant:"rectangular",width:"100%",height:56}):i.jsx(x.Z,{id:"meta-title",fullWidth:!0,...L("metaTitle"),error:!!(W.metaTitle&&z.metaTitle),helperText:W.metaTitle&&z.metaTitle})]}),i.jsx("div",{children:(0,i.jsxs)(g.Z,{fullWidth:!0,children:[s?i.jsx(u.Z,{variant:"text",width:100}):i.jsx(T,{component:"label",htmlFor:"grouped-native-select",children:"Category"}),r?i.jsx(u.Z,{variant:"rectangular",width:"100%",height:56}):i.jsx(m.Z,{native:!0,...L("parentCategory"),value:I.parentCategory,id:"grouped-native-select",children:t?.map(e=>i.jsx("option",{value:e._id,children:e.name},e._id))}),W.parentCategory&&z.parentCategory&&i.jsx(j.Z,{error:!0,sx:{px:2,mx:0},children:W.parentCategory&&z.parentCategory})]})}),(0,i.jsxs)("div",{children:[r?i.jsx(u.Z,{variant:"text",width:70}):(0,i.jsxs)(T,{component:"label",htmlFor:"slug",children:[" ","Slug"]}),r?i.jsx(u.Z,{variant:"rectangular",width:"100%",height:56}):i.jsx(x.Z,{fullWidth:!0,id:"slug",...L("slug"),error:!!(W.slug&&z.slug),helperText:W.slug&&z.slug})]}),(0,i.jsxs)("div",{children:[r?i.jsx(u.Z,{variant:"text",width:100}):(0,i.jsxs)(T,{component:"label",htmlFor:"description",children:[" ","Description"," "]}),r?i.jsx(u.Z,{variant:"rectangular",width:"100%",height:240}):i.jsx(x.Z,{fullWidth:!0,id:"description",...L("description"),error:!!(W.description&&z.description),helperText:W.description&&z.description,rows:9,multiline:!0})]})]})})}),i.jsx(c.ZP,{item:!0,xs:12,md:4,children:i.jsx("div",{style:{position:"-webkit-sticky",position:"sticky",top:0},children:(0,i.jsxs)(h.Z,{spacing:3,children:[i.jsx(p.Z,{sx:{p:3},children:(0,i.jsxs)(h.Z,{spacing:3,children:[(0,i.jsxs)("div",{children:[r?i.jsx(u.Z,{variant:"text",width:150}):(0,i.jsxs)(T,{component:"label",htmlFor:"meta-description",children:[" ","Meta Description"," "]}),r?i.jsx(u.Z,{variant:"rectangular",width:"100%",height:240}):i.jsx(x.Z,{id:"meta-description",fullWidth:!0,...L("metaDescription"),error:!!(W.metaDescription&&z.metaDescription),helperText:W.metaDescription&&z.metaDescription,rows:9,multiline:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)(h.Z,{direction:"row",justifyContent:"space-between",children:[r?i.jsx(u.Z,{variant:"text",width:150}):i.jsx(T,{variant:"body1",component:"label",color:"text.primary",children:"Image"}),r?i.jsx(u.Z,{variant:"text",width:150}):i.jsx(T,{component:"label",htmlFor:"file",children:i.jsx("span",{children:"512 * 512"})})]}),r?i.jsx(u.Z,{variant:"rectangular",width:"100%",height:225}):i.jsx(v.Z,{id:"file",file:I.cover,onDrop:U,error:!!(W.cover&&z.cover),category:!0,accept:"image/*",loading:q.loading}),W.cover&&z.cover&&i.jsx(j.Z,{error:!0,sx:{px:2,mx:0},children:W.cover&&z.cover})]}),(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{select:{textTransform:"capitalize"}},children:[r?i.jsx(u.Z,{variant:"text",width:70}):i.jsx(T,{component:"label",htmlFor:"status",children:"Status"}),r?i.jsx(u.Z,{variant:"rectangular",width:"100%",height:56}):(0,i.jsxs)(m.Z,{id:"status",native:!0,...L("status"),error:!!(W.status&&z.status),children:[i.jsx("option",{value:"",style:{display:"none"}}),F.map(e=>i.jsx("option",{value:e,children:e},e))]}),W.status&&z.status&&i.jsx(j.Z,{error:!0,sx:{px:2,mx:0},children:W.status&&z.status})]})]})}),r?i.jsx(u.Z,{variant:"rectangular",width:"100%",height:56}):i.jsx(o.Z,{type:"submit",variant:"contained",size:"large",loading:k,sx:{ml:"auto",mt:3},children:e?"Edit Sub Category":"Create Sub Category"})]})})})]})})})})}},97579:(e,t,r)=>{r.d(t,{Z:()=>g});var i=r(53854),n=r(34324),a=r.n(n),s=r(20610),o=r(98300),l=r(64022),d=r(90509),c=r(43958),p=r(13903),h=r(61753),u=r(30082);let x=(0,s.ZP)("div")(({theme:e})=>({outline:"none",display:"flex",overflow:"hidden",textAlign:"center",position:"relative",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:e.spacing(5,0),borderRadius:e.shape.borderRadius,transition:e.transitions.create("padding"),backgroundColor:e.palette.background.neutral,border:`1px dashed ${e.palette.grey[50032]}`,"&:hover":{opacity:.72,cursor:"pointer"},[e.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}));function g({error:e,file:t,sx:r,onDrop:n,loading:a,...s}){let{getRootProps:g,getInputProps:m,isDragActive:j,isDragReject:v,fileRejections:Z}=(0,h.uI)({multiple:!1,onDrop:n,...s});return(0,i.jsxs)(d.Z,{sx:{width:"100%",...r},children:[(0,i.jsxs)(x,{...g(),sx:{...j&&{opacity:.72},...(v||e)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"},...s.category&&{padding:"8px 0"}},children:[a&&i.jsx(d.Z,{sx:{position:"absolute",top:0,left:0,width:a?`${a}%`:0,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:e=>(0,o.Fq)(e.palette.primary.main,.8),zIndex:9999},children:(0,i.jsxs)(c.Z,{variant:"h6",color:"text.primary",children:[a,"%"]})}),i.jsx("input",{...m()}),!s.category&&i.jsx(p.A,{sx:{width:220}}),(0,i.jsxs)(d.Z,{sx:{p:2,ml:{md:2}},children:[i.jsx(c.Z,{variant:s.category?"subtitle1":"h5",children:"Drop or Select images"}),s.category?i.jsx(p.A,{sx:{width:160}}):(0,i.jsxs)(c.Z,{variant:"body2",sx:{color:"text.secondary"},children:["Drop image here or Click","\xa0",i.jsx(c.Z,{variant:"body2",component:"span",sx:{color:"primary.main",textDecoration:"underline"},children:"Browse"}),"\xa0","Thorough your machine"]})]}),t&&i.jsx(d.Z,{component:"img",alt:"file preview",src:t.preview?t.preview:t.url,sx:{top:8,borderRadius:1,objectFit:"contain",position:"absolute",width:"calc(100% - 16px)",height:"calc(100% - 16px)",backgroundColor:"background.paper"}})]}),Z.length>0&&i.jsx(()=>i.jsx(l.Z,{variant:"outlined",sx:{py:1,px:2,mt:3,borderColor:"error.light",bgcolor:e=>(0,o.Fq)(e.palette.error.main,.08)},children:Z.map(({file:e,errors:t})=>{let{path:r,size:n}=e;return(0,i.jsxs)(d.Z,{sx:{my:1},children:[(0,i.jsxs)(c.Z,{variant:"subtitle2",noWrap:!0,children:[r," - ",(0,u.oe)(n)]}),t.map(e=>(0,i.jsxs)(c.Z,{variant:"caption",component:"p",children:["- ",e.message]},e.code))]},r)})}),{})]})}g.propTypes={error:a().bool,file:a().oneOfType([a().string,a().object]),sx:a().object,state:a().object,onDrop:a().func.isRequired,loading:a().number.isRequired}},30082:(e,t,r)=>{r.d(t,{e_:()=>o,oe:()=>d,v1:()=>l});var i=r(9633),n=r.n(i),a=r(74292),s=r.n(a);function o(e){let t=new Intl.NumberFormat("en-US",{style:"currency",currency:process.env.CURRENCY||"USD"});return t.format(e).slice(0,-1)}function l(e){return n()(s()(e).format("0.00a"),".00","")}function d(e){return s()(e).format("0.0 b")}}};