(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[471],{72431:function(){},31646:function(i,e,t){"use strict";t.r(e),t.d(e,{default:function(){return T}});var r=t(57437),n=t(2265),l=t(96507),o=t(46776),a=t(85269),s=t(22135),d=t(13457),c=t(96036),u=t(21677),p=t(14604),h=t(49600),x=t(52410),m=t(36468),g=t(53159),v=t(62510),b=t(58910),j=t(68530),f=t(52072),y=t(67657),w=t(27950),Z=t(27918),R=t(5925),z=t(35843);let k=(0,z.ZP)("div")(i=>{let{theme:e}=i;return{padding:e.spacing(2,0),"& .heading":{textTransform:"capitalize",marginBottom:0},"& .rating-wrapper":{position:"relative",svg:{color:e.palette.warning.main},p:{color:e.palette.text.primary,span:{fontWeight:400,color:e.palette.primary.light}}},"& .text-price":{display:"flex",alignItems:"center",marginLeft:"auto",position:"absolute",right:0,marginTop:e.spacing(.5),"& .old-price":{display:"inline",color:"text.disabled",textDecoration:"line-through",fontSize:16,fontWeight:400,[e.breakpoints.down("md")]:{display:"none"}}},"& .text-discount":{span:{color:e.palette.error.main,marginLeft:e.spacing(1)}},"& .color-picker-skeleton":{width:120,height:36,float:"right"},"& .size-picker-skeleton":{width:50,height:18,float:"right",marginTop:"12px"},"& .incrementer-wrapper":{marginTop:"5px","& .incrementer-skeleton":{width:70,height:18,float:"right",mt:"12px"},"& .incrementer":{padding:e.spacing(.5,.75),margin:e.spacing(0,"5px"),borderWidth:1,borderStyle:"solid",lineHeight:0,borderRadius:e.spacing(1),display:"flex",alignItems:"center",borderColor:e.palette.divider,"& .text":{width:40,textAlign:"center",display:"inline-block"},svg:{fontSize:e.spacing(2)}}},"& .detail-actions-wrapper":{marginTop:e.spacing(2),"& .contained-buttons":{width:"100%","& .cart-button":{whiteSpace:"nowrap"}},"& .progress":{width:"48px!important",height:"48px!important"},"& .wishlist-button":{minHeight:48,height:48,borderRadius:"8px"},"& .remove-wishlist-button":{minHeight:48,height:48,borderRadius:"8px","&.bg-grey":{backgroundColor:e.palette.grey[500]}}}}});var q=t(74275),C=t.n(q);let S=(0,z.ZP)(d.Z)({});function N(i){let{...e}=i,{colors:t,color:a,setColor:s,isDetail:d,loading:c}=e,[p,h]=(0,n.useState)(0);return(0,r.jsxs)(S,{direction:"row",spacing:.5,children:[!d&&(null==t?void 0:t.length)>6&&(0,r.jsx)(o.Z,{size:"small",onClick:()=>{p>0&&h(p-1)},sx:{width:24,height:24,p:.1,svg:{color:0===p?"text.disabled":"text.primary"}},disabled:0===p,children:(0,r.jsx)(b.xdf,{size:20})}),c?Array.from([,,,,]):null==t?void 0:t.slice(6*p,6*(p+1)).map((i,e)=>(0,r.jsx)(n.Fragment,{children:c?(0,r.jsx)(u.Z,{variant:"circular",width:24,height:24}):(0,r.jsx)(l.Z,{sx:{height:24,width:24,borderRadius:5,bgcolor:i,position:"relative",cursor:"pointer",boxShadow:"inset 0 0 2px #C4CDD5",...a===6*p+e&&{svg:{position:"absolute",color:"white"===i?"common.black":"common.white",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}}},onClick:()=>s(6*p+e),children:a===6*p+e&&(0,r.jsx)(v.l_A,{})})},Math.random())),!d&&(null==t?void 0:t.length)>6&&(0,r.jsx)(o.Z,{disabled:6*(p+1)>(null==t?void 0:t.length),sx:{width:24,height:24,p:.1,svg:{color:6*(p+1)>(null==t?void 0:t.length)?"text.disabled":"text.primary"}},size:"small",onClick:()=>{6*(p+1)<(null==t?void 0:t.length)&&h(p+1)},children:(0,r.jsx)(b.eDK,{size:20})})]})}N.propTypes={colors:C().array.isRequired,color:C().number.isRequired,setColor:C().func.isRequired,isDetail:C().bool.isRequired,loading:C().bool.isRequired};var W=t(60987);function I(i){let{sizes:e,size:t,setSize:l,isDetail:o,loading:a}=i,[s,c]=(0,n.useState)(0);return(0,r.jsxs)(d.Z,{direction:"row",alignItems:"center",sx:{button:{mr:.5}},children:[!o&&(null==e?void 0:e.length)>6&&(0,r.jsx)(W.Z,{in:s>0,children:(0,r.jsx)(h.Z,{variant:"outlined",color:"inherit",onClick:()=>{s>0&&c(s-1)},sx:{minHeight:24,minWidth:25,height:"24px !important",p:.2,color:"text.primary !important",display:0===s&&"none",borderWidth:0},disabled:0===s,children:(0,r.jsx)(b.xdf,{size:20})})}),a?Array.from([,,,,]):null==e?void 0:e.slice(6*s,6*(s+1)).map((i,e)=>(0,r.jsx)(n.Fragment,{children:a?(0,r.jsx)(u.Z,{variant:"rounded",width:25,height:24,sx:{mr:.5}}):(0,r.jsx)(h.Z,{size:"small",variant:t===e?"contained":"outlined",color:t===e?"primary":"inherit",onClick:()=>l(e),sx:{minHeight:24,minWidth:25,height:"24px !important",px:.6,py:.2,borderWidth:1,textTransform:"uppercase",fontSize:t===e?14:12,borderWidth:0},children:i})},Math.random())),!o&&(null==e?void 0:e.length)>6&&(0,r.jsx)(W.Z,{in:6*(s+1)<(null==e?void 0:e.length),children:(0,r.jsx)(h.Z,{variant:"outlined",color:"inherit",onClick:()=>{6*(s+1)<(null==e?void 0:e.length)&&c(s+1)},sx:{minHeight:24,minWidth:25,borderWidth:0,height:"24px !important",color:"text.primary !important",p:.2},children:(0,r.jsx)(b.eDK,{size:20})})})]})}I.propTypes={sizes:C().array.isRequired,size:C().number.isRequired,setSize:C().func.isRequired,isDetail:C().bool.isRequired,loading:C().bool.isRequired};var D=t(64);T.propTypes={product:C().object.isRequired,isLoading:C().bool.isRequired,id:C().string.isRequired,totalReviews:C().number.isRequired,totalRating:C().number.isRequired,brand:C().object.isRequired,category:C().object.isRequired};let A=i=>{let{...e}=i,{available:t}=e,[n,,s]=(0,f.U$)(e),{value:d}=n,{setValue:c}=s;return(0,r.jsxs)(l.Z,{className:"incrementer",children:[(0,r.jsx)(o.Z,{size:"small",color:"inherit",disabled:d<=1,onClick:()=>{c(d-1)},children:(0,r.jsx)(x.Lqh,{})}),(0,r.jsx)(a.Z,{variant:"body2",component:"span",className:"text",children:d}),(0,r.jsx)(o.Z,{size:"small",color:"inherit",disabled:d>=t,onClick:()=>{c(d+1)},children:(0,r.jsx)(x.gyF,{})})]})};function T(i){var e,t,x,z;let{...q}=i,{product:C,isLoading:S,totalReviews:W,totalRating:T,brand:_,category:L}=q,[M,E]=(0,n.useState)(!1),[F,H]=(0,n.useState)(0),[B,P]=(0,n.useState)(0);(0,n.useEffect)(()=>{E(!0)},[]);let U=(0,j.tv)(),O=(0,y.I0)(),{checkout:K}=(0,y.v9)(i=>{let{product:e}=i;return e}),[V,X]=(0,n.useState)(!1),J=!S&&K.cart.filter(i=>i._id===(null==C?void 0:C._id)).map(i=>i.quantity)[0]>=(null==C?void 0:C.available),Q=i=>{R.Am.success("Added to cart"),O((0,w.Z5)(i))},$=(0,f.TA)({enableReinitialize:!0,initialValues:{pid:null==C?void 0:C._id,cover:null==C?void 0:C.cover,quantity:1},onSubmit:async(i,e)=>{let{setSubmitting:t}=e;try{let e=!S&&K.cart.filter(e=>e.pid===i.pid);if(!e.length){let e=null==C?void 0:C.colors.find((i,e)=>e===F),t=null==C?void 0:C.sizes.find((i,e)=>e===B);Q({pid:C._id,sku:C.sku,color:e,size:t,image:null==C?void 0:C.images[0].url,quantity:i.quantity,price:0===C.priceSale?C.price:C.priceSale,subtotal:(C.priceSale||(null==C?void 0:C.price))*i.quantity}),ie("quantity",1)}t(!1),U.push("/cart")}catch(i){t(!1)}}}),{values:G,touched:Y,errors:ii,setFieldValue:ie,handleSubmit:it}=$,ir=()=>{let i=null==C?void 0:C.colors.find((i,e)=>e===F),e=null==C?void 0:C.sizes.find((i,e)=>e===B);Q({pid:C._id,sku:C.sku,color:i,image:null==C?void 0:C.images[0].url,size:e,quantity:G.quantity,price:0===C.priceSale?C.price:C.priceSale,subtotal:(C.priceSale||(null==C?void 0:C.price))*G.quantity}),ie("quantity",1)};(0,n.useEffect)(()=>{X(!0)},[]);let il=(0,s.Z)("(max-width:768px)");return(0,r.jsx)(k,{children:(0,r.jsx)(f.Hy,{value:$,children:(0,r.jsxs)(f.l0,{autoComplete:"off",noValidate:!0,onSubmit:it,children:[(0,r.jsx)(a.Z,{noWrap:!0,variant:"h4",paragraph:!0,className:"heading",children:null==C?void 0:C.name}),(0,r.jsxs)(d.Z,{direction:"row",alignItems:"center",className:"rating-wrapper",spacing:1,children:[(0,r.jsx)(c.Z,{value:T,precision:.1,size:"small",readOnly:!0}),(0,r.jsxs)(a.Z,{variant:"body1",color:"primary",children:[W," ",(0,r.jsx)("span",{children:Number(W)>1?"Reviews":"Review"})]}),(0,r.jsxs)(a.Z,{variant:"h4",className:"text-price",children:[(null==C?void 0:C.price)<=(null==C?void 0:C.priceSale)?null:(0,r.jsx)(l.Z,{component:"span",className:"old-price",children:!S&&V&&(0,D.e_)(null==C?void 0:C.price)}),(0,r.jsxs)(l.Z,{component:"span",children:["\xa0",!S&&V&&(0,D.e_)(null==C?void 0:C.priceSale)]})]})]}),(0,r.jsxs)(d.Z,{spacing:1,my:3,children:[(0,r.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:1,mt:1.5,children:[(0,r.jsx)(a.Z,{variant:"subtitle1",children:"Brand:"}),(0,r.jsx)(a.Z,{variant:"subtitle1",color:"text.secondary",fontWeight:400,children:(null==_?void 0:_.name)||"fasion needles"})]}),(0,r.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,r.jsx)(a.Z,{variant:"subtitle1",children:"Category:"}),(0,r.jsx)(a.Z,{variant:"subtitle1",color:"text.secondary",fontWeight:400,children:(null==L?void 0:L.name)||"fasion needles"})]}),(null==C?void 0:C.price)>(null==C?void 0:C.priceSale)&&(0,r.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,r.jsx)(a.Z,{variant:"subtitle1",children:"Discount:"}),(0,r.jsxs)(a.Z,{variant:"subtitle1",color:"text.secondary",fontWeight:400,className:"text-discount",children:[!S&&V&&(0,D.e_)((null==C?void 0:C.price)-(null==C?void 0:C.priceSale)),(0,r.jsxs)("span",{children:["(",(100-(null==C?void 0:C.priceSale)/(null==C?void 0:C.price)*100).toFixed(0),"% Discount)"]})]})]}),(0,r.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,r.jsx)(a.Z,{variant:"subtitle1",children:"Available:"}),(0,r.jsx)(a.Z,{variant:"subtitle1",color:"text.secondary",fontWeight:400,sx:{span:{color:"error.main"}},children:(null==C?void 0:C.available)>0?"".concat(null==C?void 0:C.available," Items"):(0,r.jsx)("span",{children:"Out of stock"})})]}),(0,r.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:2,pt:1,children:[(0,r.jsx)(a.Z,{variant:"subtitle1",children:"Color:"}),(0,r.jsx)(N,{color:F,setColor:H,colors:null==C?void 0:C.colors,isDetail:!0})]}),(0,r.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:2,pt:1,children:[(0,r.jsx)(a.Z,{variant:"subtitle1",children:"Size:"}),(0,r.jsx)(I,{size:B,setSize:P,sizes:null==C?void 0:C.sizes,isDetail:!0})]})]}),(0,r.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:2,className:"incrementer-wrapper",children:[(0,r.jsx)(a.Z,{variant:"subtitle1",children:"Quantity:"}),S?(0,r.jsx)(l.Z,{sx:{float:"right"},children:(0,r.jsx)(u.Z,{variant:"rounded",width:120,height:40})}):(0,r.jsxs)("div",{children:[(0,r.jsx)(A,{name:"quantity",available:null==C?void 0:C.available}),Y.quantity&&ii.quantity&&(0,r.jsx)(p.Z,{error:!0,children:Y.quantity&&ii.quantity})]})]}),(0,r.jsxs)(d.Z,{spacing:2,className:"detail-actions-wrapper",children:[(0,r.jsxs)(d.Z,{spacing:2,direction:{xs:"row",sm:"row"},className:"contained-buttons",children:[(0,r.jsx)(h.Z,{fullWidth:!0,disabled:J||S||(null==C?void 0:C.available)<1,size:il?"medium":"large",type:"button",color:"primary",variant:"contained",onClick:()=>ir(C),className:"cart-button",children:"Add to Cart"}),(0,r.jsx)(h.Z,{disabled:S||(null==C?void 0:C.available)<1,fullWidth:!0,size:il?"medium":"large",type:"submit",variant:"contained",color:"secondary",children:"Buy Now"})]}),(0,r.jsx)(d.Z,{direction:"row",justifyContent:"center",children:(0,r.jsxs)(d.Z,{direction:"row",spacing:.5,children:[(0,r.jsx)(o.Z,{"aria-label":"copy",onClick:()=>{var i;navigator.clipboard.writeText(null===(i=window)||void 0===i?void 0:i.location.href),R.Am.success("Link copied.")},children:(0,r.jsx)(b.Fqs,{size:24})}),M&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.N0,{url:(null===(e=window)||void 0===e?void 0:e.location.href)||"",children:(0,r.jsx)(o.Z,{sx:{color:"#42BC50"},"aria-label":"whatsapp",children:(0,r.jsx)(m.ff9,{size:24})})}),(0,r.jsx)(Z.Dk,{url:(null===(t=window)||void 0===t?void 0:t.location.href)||"",children:(0,r.jsx)(o.Z,{sx:{color:"#1373EC"},"aria-label":"facebook",children:(0,r.jsx)(g.Am9,{size:24})})}),(0,r.jsx)(Z.B,{url:(null===(x=window)||void 0===x?void 0:x.location.href)||"",children:(0,r.jsx)(o.Z,{sx:{color:"text.primary"},"aria-label":"twitter",children:(0,r.jsx)(v.LCd,{size:24})})}),(0,r.jsx)(Z.r2,{url:(null===(z=window)||void 0===z?void 0:z.location.href)||"",children:(0,r.jsx)(o.Z,{sx:{color:"#0962B7"},"aria-label":"linkedin",children:(0,r.jsx)(g.ltd,{size:24})})})]})]})})]})]})})})}A.propTypes={available:C().number.isRequired}},49269:function(i,e,t){"use strict";t.r(e),t.d(e,{default:function(){return q}});var r=t(57437),n=t(74275),l=t.n(n),o=t(2265),a=t(78808),s=t(5925),d=t(13457),c=t(53741),u=t(46776),p=t(96507),h=t(22135),x=t(52410),m=t(28129),g=t(3198),v=t(37749),b=t(59077),j=t(62167),f=t(32555),y=t(35843),w=t(89975);let Z=(0,y.ZP)(p.Z)(i=>{let{theme:e}=i;return{width:"100%",position:"relative",overflow:"hidden",paddingTop:"100%",borderRadius:0,"& .motion-dev":{position:"absolute",width:"100%",overflow:"hidden",top:0},"& .slide-wrapper":{position:"relative",paddingBottom:"100%",zIndex:11,backgroundColor:"transparent",borderRadius:0,img:{borderRadius:"8px",objectPosition:"center",border:"1px solid ".concat(e.palette.divider),..."rtl"===e.direction&&{"-webkit-transform":"scaleX(-1)",transform:"scaleX(-1)"}}},"& .bg-overlay":{top:0,width:"100%",height:"100%",position:"absolute",background:"dark"===e.palette.mode?(0,w.Fq)(e.palette.grey[800],.2):""},"& .controls-wrapper":{paddingTop:e.spacing(2),overflow:"auto","& .controls-button":{minWidth:60,minHeight:60,position:"relative",cursor:"pointer",img:{borderRadius:"8px",border:"2px solid ".concat(e.palette.divider)},"&.active":{img:{border:"2px solid ".concat(e.palette.primary.main)}}}}}}),R={enter:i=>({x:i>0?1e3:-1e3,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:i=>({zIndex:0,x:i<0?1e3:-1e3,opacity:0})},z=(i,e)=>Math.abs(i)*e;function k(i){let{...e}=i,{item:t,onClickWishList:n,wishlist:l,isLoading:o,isMobile:s,_id:h}=e;return(0,r.jsxs)("div",{className:"slide-wrapper",children:[(0,r.jsx)(d.Z,{sx:{bgcolor:"background.paper",position:"absolute",top:s?7:12,right:s?5:14,borderRadius:"50%",width:30,height:30,display:"flex",alignItems:"center",justifyContent:"center",zIndex:999,img:{borderRadius:"50%"}},children:(null==l?void 0:l.filter(i=>i===h).length)>0?(0,r.jsx)(c.Z,{title:"Remove from cart",children:(0,r.jsx)(u.Z,{disabled:o,onClick:n,"aria-label":"add to cart",color:"primary",size:s?"small":"medium",children:(0,r.jsx)(x.yas,{})})}):(0,r.jsx)(c.Z,{title:"Add to wishlist",children:(0,r.jsx)(u.Z,{disabled:o,onClick:n,"aria-label":"add to wishlist",size:s?"small":"medium",children:(0,r.jsx)(x.AWH,{})})})}),t&&(0,r.jsx)(a.Z,{priority:!0,fill:!0,objectFit:"cover",sizes:"50%",src:(null==t?void 0:t.url)||(null==t?void 0:t.src),alt:"hero-carousel",placeholder:"blur",blurDataURL:t.blurDataURL}),(0,r.jsx)(p.Z,{className:"bg-overlay"})]})}function q(i){let{...e}=i,{product:t,data:n}=e;console.log(t,"imageIndex");let l=(0,g.I0)(),c=null==n?void 0:n._id,u=null==t?void 0:t.images,{wishlist:x}=(0,g.v9)(i=>{let{wishlist:e}=i;return e}),{isAuthenticated:y}=(0,g.v9)(i=>{let{user:e}=i;return e}),[w,q]=(0,o.useState)(!1),{mutate:C}=(0,b.useMutation)(v.updateWishlist,{onSuccess:i=>{s.Am.success(i.message),q(!1),l((0,m.ju)(i.data))},onError:i=>{var e,t;q(!1);let r=JSON.stringify(null==i?void 0:null===(t=i.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message);s.Am.error(r)}}),S=async i=>{y?(i.stopPropagation(),q(!0),await C(c)):(i.stopPropagation(),router.push("/auth/login"))},N=(0,h.Z)("(max-width:600px)"),{themeMode:W}=(0,g.v9)(i=>{let{settings:e}=i;return e}),[[I,D],A]=(0,o.useState)([0,0]),T=Math.abs(I%(null==u?void 0:u.length)),_=i=>{A([I+i,i])};return(0,r.jsxs)(Z,{children:[(0,r.jsx)(j.M,{initial:!1,custom:D,children:(0,r.jsx)(f.E.div,{className:"motion-dev",custom:D,variants:R,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},drag:"x",dragConstraints:{left:0,right:0},dragElastic:1,onDragEnd:(i,e)=>{let{offset:t,velocity:r}=e,n=z(t.x,r.x);n<-1e4?_(1):n>1e4&&_(-1)},children:(0,r.jsx)(k,{themeMode:W,item:u[T],index:u[T],activeStep:T,isActive:T,isLoading:w,wishlist:x,onClickWishList:S,isMobile:N,_id:c},Math.random())},I)}),(0,r.jsx)(d.Z,{direction:"row",justifyContent:u.length<6?"center":"left",spacing:1,className:"controls-wrapper",children:u.map((i,e)=>(0,r.jsx)(p.Z,{className:"controls-button ".concat(T===e?"active":""),onClick:()=>{A([e,e])},children:(0,r.jsx)(a.Z,{priority:!0,fill:!0,objectFit:"cover",sizes:"14vw",src:(null==i?void 0:i.src)||(null==i?void 0:i.url),alt:"hero-carousel",placeholder:"blur",blurDataURL:i.blurDataURL})},Math.random()))})]})}k.propTypes={item:l().object.isRequired,onClickWishList:l().func.isRequired,wishlist:l().array.isRequired,isLoading:l().bool.isRequired,isMobile:l().bool.isRequired,_id:l().string.isRequired},q.propTypes={product:l().object,data:l().object}}}]);