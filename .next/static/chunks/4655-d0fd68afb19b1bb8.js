"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4655],{34655:function(e,t,r){r.r(t),r.d(t,{default:function(){return F}});var i=r(57437),n=r(2265),a=r(74275),o=r.n(a),s=r(59077),l=r(35843),d=r(44551),c=r(85269),u=r(96507),p=r(38939),h=r(65984),x=r(13457),g=r(21677),m=r(67248),j=r(14604),b=r(5096),v=r(46349),Z=r(37749),f=r(35691),y=r(92173),w=r(5925),D=r(52072),T=r(45564),C=r(24033);let q=(0,l.ZP)(c.Z)(e=>{let{theme:t}=e;return{...t.typography.subtitle2,color:t.palette.text.secondary,marginBottom:t.spacing(1),lineHeight:2.5}}),_=["active","deactive"];function F(e){let{data:t,isLoading:r}=e,a=(0,C.useRouter)(),[o,l]=(0,n.useState)({loading:!1,name:"",search:"",open:!1}),{mutate:c,isLoading:F}=(0,s.useMutation)(t?"update":"new",t?Z.updateBrand:Z.addBrand,{...t&&{enabled:!!t},retry:!1,onSuccess:e=>{w.ZP.success(e.message),a.push("/dashboard/brands")},onError:e=>{w.ZP.error(e.response.data.message)}}),{mutate:k}=(0,s.useMutation)(Z.singleDeleteFile,{onError:e=>{w.ZP.error(e.response.data.message)}}),R=f.Ry().shape({name:f.Z_().required("Brand name is required"),logo:f.nK().required("Logo is required"),slug:f.Z_().required("Slug is required"),description:f.Z_().required("Description is required"),metaTitle:f.Z_().required("Meta title is required"),metaDescription:f.Z_().required("Meta description is required")}),S=(0,D.TA)({initialValues:{name:(null==t?void 0:t.name)||"",metaTitle:(null==t?void 0:t.metaTitle)||"",logo:(null==t?void 0:t.logo)||null,description:(null==t?void 0:t.description)||"",metaDescription:(null==t?void 0:t.metaDescription)||"",file:(null==t?void 0:t.logo)||"",slug:(null==t?void 0:t.slug)||"",status:(null==t?void 0:t.status)||_[0]},enableReinitialize:!0,validationSchema:R,onSubmit:async e=>{let{...r}=e;try{c({...r,...t&&{currentSlug:t.slug}})}catch(e){console.error(e)}}}),{errors:P,values:B,touched:z,handleSubmit:M,setFieldValue:W,getFieldProps:A}=S,E=async e=>{l({...o,loading:2});let t=e[0];t&&Object.assign(t,{preview:URL.createObjectURL(t)}),W("file",t);let r=new FormData;r.append("file",t),r.append("upload_preset","fezrhfpj"),await y.Z.post("https://api.cloudinary.com/v1_1/docjvlprh/image/upload",r,{onUploadProgress:e=>{let{loaded:t,total:r}=e;l({...o,loading:Math.floor(100*t/r)})}}).then(e=>{let{data:t}=e;W("logo",{_id:t.public_id,url:t.secure_url}),l({...o,loading:!1})}).then(()=>{B.file&&k(B.cover._id),l({...o,loading:!1})})};return(0,i.jsx)(u.Z,{position:"relative",children:(0,i.jsx)(D.Hy,{value:S,children:(0,i.jsx)(D.l0,{noValidate:!0,autoComplete:"off",onSubmit:M,children:(0,i.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(p.ZP,{item:!0,xs:12,md:8,children:(0,i.jsx)(h.Z,{sx:{p:3},children:(0,i.jsxs)(x.Z,{spacing:3,children:[(0,i.jsxs)("div",{children:[r?(0,i.jsx)(g.Z,{variant:"text",width:140}):(0,i.jsxs)(q,{component:"label",htmlFor:"brand-name",children:[" ","Brand Name"," "]}),r?(0,i.jsx)(g.Z,{variant:"rectangular",width:"100%",height:56}):(0,i.jsx)(m.Z,{id:"brand-name",fullWidth:!0,...A("name"),onChange:e=>{let t=e.target.value,r=t.toLowerCase().replace(/[^a-zA-Z0-9\s]+/g,"").replace(/\s+/g,"-");S.setFieldValue("slug",r),S.handleChange(e)},error:!!(z.name&&P.name),helperText:z.name&&P.name})]}),(0,i.jsxs)("div",{children:[r?(0,i.jsx)(g.Z,{variant:"text",width:100}):(0,i.jsx)(q,{component:"label",htmlFor:"brand-meta-title",children:"Meta Title"}),r?(0,i.jsx)(g.Z,{variant:"rectangular",width:"100%",height:56}):(0,i.jsx)(m.Z,{id:"brand-meta-title",fullWidth:!0,...A("metaTitle"),error:!!(z.metaTitle&&P.metaTitle),helperText:z.metaTitle&&P.metaTitle})]}),(0,i.jsxs)("div",{children:[r?(0,i.jsx)(g.Z,{variant:"text",width:70}):(0,i.jsxs)(q,{component:"label",htmlFor:"brand-slug",children:[" ","Slug"]}),r?(0,i.jsx)(g.Z,{variant:"rectangular",width:"100%",height:56}):(0,i.jsx)(m.Z,{fullWidth:!0,id:"brand-slug",...A("slug"),error:!!(z.slug&&P.slug),helperText:z.slug&&P.slug})]}),(0,i.jsxs)("div",{children:[r?(0,i.jsx)(g.Z,{variant:"text",width:100}):(0,i.jsxs)(q,{component:"label",htmlFor:"brand-description",children:[" ","Description"," "]}),r?(0,i.jsx)(g.Z,{variant:"rectangular",width:"100%",height:240}):(0,i.jsx)(m.Z,{fullWidth:!0,id:"brand-description",...A("description"),error:!!(z.description&&P.description),helperText:z.description&&P.description,rows:9,multiline:!0})]})]})})}),(0,i.jsx)(p.ZP,{item:!0,xs:12,md:4,children:(0,i.jsx)("div",{style:{position:"-webkit-sticky",position:"sticky",top:0},children:(0,i.jsxs)(x.Z,{spacing:3,children:[(0,i.jsx)(h.Z,{sx:{p:3},children:(0,i.jsxs)(x.Z,{spacing:3,children:[(0,i.jsxs)("div",{children:[r?(0,i.jsx)(g.Z,{variant:"text",width:150}):(0,i.jsxs)(q,{component:"label",htmlFor:"brand-meta-description",children:[" ","Meta Description"," "]}),r?(0,i.jsx)(g.Z,{variant:"rectangular",width:"100%",height:240}):(0,i.jsx)(m.Z,{id:"brand-meta-description",fullWidth:!0,...A("metaDescription"),error:!!(z.metaDescription&&P.metaDescription),helperText:z.metaDescription&&P.metaDescription,rows:9,multiline:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)(x.Z,{direction:"row",justifyContent:"space-between",children:[r?(0,i.jsx)(g.Z,{variant:"text",width:150}):(0,i.jsx)(q,{variant:"body1",component:"label",color:"text.primary",children:"Image"}),r?(0,i.jsx)(g.Z,{variant:"text",width:150}):(0,i.jsx)(q,{component:"label",htmlFor:"brand-image",children:(0,i.jsx)("span",{children:"512 * 512"})})]}),r?(0,i.jsx)(g.Z,{variant:"rectangular",width:"100%",height:225}):(0,i.jsx)(T.Z,{id:"brand-image",file:B.logo,onDrop:E,error:!!(z.logo&&P.logo),category:!0,accept:"image/*",loading:o.loading}),z.logo&&P.logo&&(0,i.jsx)(j.Z,{error:!0,sx:{px:2,mx:0},children:z.logo&&P.logo})]}),(0,i.jsxs)(b.Z,{fullWidth:!0,sx:{select:{textTransform:"capitalize"}},children:[r?(0,i.jsx)(g.Z,{variant:"text",width:70}):(0,i.jsx)(q,{component:"label",htmlFor:"brand-status",children:"Status"}),r?(0,i.jsx)(g.Z,{variant:"rectangular",width:"100%",height:56}):(0,i.jsxs)(v.Z,{id:"brand-status",native:!0,...A("status"),error:!!(z.status&&P.status),children:[(0,i.jsx)("option",{value:"",style:{display:"none"}}),_.map(e=>(0,i.jsx)("option",{value:e,style:{textTransform:"capitalize"},children:e},e))]}),z.status&&P.status&&(0,i.jsx)(j.Z,{error:!0,sx:{px:2,mx:0},children:z.status&&P.status})]})]})}),r?(0,i.jsx)(g.Z,{variant:"rectangular",width:"100%",height:56}):(0,i.jsx)(d.Z,{type:"submit",variant:"contained",size:"large",loading:F,sx:{ml:"auto",mt:3},children:t?"Edit Brand":"Create Brand"})]})})})]})})})})}F.propTypes={data:o().object,isLoading:o().bool}},45564:function(e,t,r){r.d(t,{Z:function(){return g}});var i=r(57437),n=r(74275),a=r.n(n),o=r(35843),s=r(89975),l=r(18687),d=r(96507),c=r(85269),u=r(76639),p=r(22440),h=r(64);let x=(0,o.ZP)("div")(e=>{let{theme:t}=e;return{outline:"none",display:"flex",overflow:"hidden",textAlign:"center",position:"relative",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,0),borderRadius:t.shape.borderRadius,transition:t.transitions.create("padding"),backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"},[t.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}});function g(e){let{error:t,file:r,sx:n,onDrop:a,loading:o,...g}=e,{getRootProps:m,getInputProps:j,isDragActive:b,isDragReject:v,fileRejections:Z}=(0,p.uI)({multiple:!1,onDrop:a,...g});return(0,i.jsxs)(d.Z,{sx:{width:"100%",...n},children:[(0,i.jsxs)(x,{...m(),sx:{...b&&{opacity:.72},...(v||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"},...g.category&&{padding:"8px 0"}},children:[o&&(0,i.jsx)(d.Z,{sx:{position:"absolute",top:0,left:0,width:o?"".concat(o,"%"):0,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:e=>(0,s.Fq)(e.palette.primary.main,.8),zIndex:9999},children:(0,i.jsxs)(c.Z,{variant:"h6",color:"text.primary",children:[o,"%"]})}),(0,i.jsx)("input",{...j()}),!g.category&&(0,i.jsx)(u.A,{sx:{width:220}}),(0,i.jsxs)(d.Z,{sx:{p:2,ml:{md:2}},children:[(0,i.jsx)(c.Z,{variant:g.category?"subtitle1":"h5",children:"Drop or Select images"}),g.category?(0,i.jsx)(u.A,{sx:{width:160}}):(0,i.jsxs)(c.Z,{variant:"body2",sx:{color:"text.secondary"},children:["Drop image here or Click","\xa0",(0,i.jsx)(c.Z,{variant:"body2",component:"span",sx:{color:"primary.main",textDecoration:"underline"},children:"Browse"}),"\xa0","Thorough your machine"]})]}),r&&(0,i.jsx)(d.Z,{component:"img",alt:"file preview",src:r.preview?r.preview:r.url,sx:{top:8,borderRadius:1,objectFit:"contain",position:"absolute",width:"calc(100% - 16px)",height:"calc(100% - 16px)",backgroundColor:"background.paper"}})]}),Z.length>0&&(0,i.jsx)(()=>(0,i.jsx)(l.Z,{variant:"outlined",sx:{py:1,px:2,mt:3,borderColor:"error.light",bgcolor:e=>(0,s.Fq)(e.palette.error.main,.08)},children:Z.map(e=>{let{file:t,errors:r}=e,{path:n,size:a}=t;return(0,i.jsxs)(d.Z,{sx:{my:1},children:[(0,i.jsxs)(c.Z,{variant:"subtitle2",noWrap:!0,children:[n," - ",(0,h.oe)(a)]}),r.map(e=>(0,i.jsxs)(c.Z,{variant:"caption",component:"p",children:["- ",e.message]},e.code))]},n)})}),{})]})}g.propTypes={error:a().bool,file:a().oneOfType([a().string,a().object]),sx:a().object,state:a().object,onDrop:a().func.isRequired,loading:a().number.isRequired}},64:function(e,t,r){r.d(t,{e_:function(){return l},oe:function(){return c},v1:function(){return d}});var i=r(82802),n=r.n(i),a=r(55194),o=r.n(a),s=r(25566);function l(e){let t=new Intl.NumberFormat("en-US",{style:"currency",currency:s.env.CURRENCY||"USD"});return t.format(e).slice(0,-1)}function d(e){return n()(o()(e).format("0.00a"),".00","")}function c(e){return o()(e).format("0.0 b")}}}]);